import React from 'react'
import TodoItem from './TodoItem.js'
import Pos from '../utility/Pos.js'
import Inside from '../utility/Inside.js'

class TodoList extends React.Component {

	handleDrag = (text, pos) => {
		let {x, y, width, height} = Pos(this.props.id);
		if(Inside(x, y, width, height, pos.x, pos.y)) {
			console.log("TODO: handle list reordering");
			console.log(x, pos.x, pos.height);
		}
		else {
			this.props.handler(text, pos);
		}
	}

	render = () => {

		return (<ul 
			className="todoList" 
			id={this.props.id}
				>
				{this.props.items.map((item, index) => (
					<TodoItem 
						text={item} 
						key={index} 
						handler={this.handleDrag}
						id={"todoItem" + index}
					/>
				))}
			</ul>
		);
	}
}

export {TodoList};
